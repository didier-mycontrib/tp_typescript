(()=>{"use strict";class t{constructor(t){this.canvasId=t,this._canvasElement=null,this._ctx=null,this._canvasElement=document.getElementById(t),this._ctx=this._canvasElement.getContext("2d")}doActionForCircle(t){this._ctx.beginPath(),this._ctx.arc(t.xC,t.yC,t.r,0,2*Math.PI,!1),null!=t.fillColor&&(this._ctx.fillStyle=t.fillColor,this._ctx.fill()),this._ctx.lineWidth=t.lineWidth,this._ctx.strokeStyle=t.lineColor,this._ctx.stroke()}doActionForLine(t){this._ctx.beginPath(),this._ctx.moveTo(t.x1,t.y1),this._ctx.lineTo(t.x2,t.y2),this._ctx.strokeStyle=t.lineColor,this._ctx.lineWidth=t.lineWidth,this._ctx.stroke()}doActionForRectangle(t){this._ctx.beginPath(),this._ctx.rect(t.x1,t.y1,t.width,t.height),null!=t.fillColor&&(this._ctx.fillStyle=t.fillColor,this._ctx.fill()),this._ctx.strokeStyle=t.lineColor,this._ctx.lineWidth=t.lineWidth,this._ctx.stroke()}}class e{doActionForCircle(t){console.log("{circle: "+JSON.stringify(t)+"}")}doActionForLine(t){console.log("{line: "+JSON.stringify(t)+"}")}doActionForRectangle(t){console.log("{rectangle:"+JSON.stringify(t)+"}")}}class i{constructor(t="black",e=1,i=void 0){this.lineColor=t,this.lineWidth=e,this.fillColor=i}}class o extends i{constructor(t=0,e=0,i=0,o=0,n="black",l=1){super(n,l),this.x1=t,this.y1=e,this.x2=i,this.y2=o}performVisit(t){t.doActionForLine(this)}}class n extends i{constructor(t=0,e=0,i=0,o="black",n=1,l=void 0){super(o,n,l),this.xC=t,this.yC=e,this.r=i}performVisit(t){t.doActionForCircle(this)}}class l extends i{constructor(t=0,e=0,i=0,o=0,n="black",l=1,s=void 0){super(n,l,s),this.x1=t,this.y1=e,this.width=i,this.height=o}performVisit(t){t.doActionForRectangle(this)}}var s=void 0,c=void 0;window.addEventListener("load",(function(){var i,r,h;null===(i=document.querySelector("#btnClear"))||void 0===i||i.addEventListener("click",(function(){var t;console.log("clear"),(t=document.getElementById("myCanvas")).getContext("2d").clearRect(0,0,t.width,t.height),s=void 0,c=void 0})),null===(r=document.querySelector("#btnTest"))||void 0===r||r.addEventListener("click",(function(){console.log("test"),function(){var i=new Array;i.push(new o(20,20,180,200,"red")),i.push(new n(100,100,50,"blue")),i.push(new n(250,200,50,"black",1,"blue")),i.push(new l(200,100,50,60,"green")),i.push(new l(20,100,50,60,"black",1,"green"));var s=new e;for(let t of i)t.performVisit(s);var c=new t("myCanvas");for(let t of i)t.performVisit(c)}()})),null===(h=document.querySelector("#myCanvas"))||void 0===h||h.addEventListener("click",(function(t){!function(t){var e=document.getElementById("myCanvas"),i=t.pageX-e.offsetLeft,o=t.pageY-e.offsetTop,n="click at x="+i+" y="+o;console.log(n);const l=document.querySelector("#spanMsg");null!=l&&(l.innerHTML=n);var r=e.getContext("2d");null==s&&null==c&&(s=i,c=o),r.beginPath(),r.moveTo(s,c),r.lineTo(i,o),s=i,c=o,r.stroke()}(t)}))}))})();